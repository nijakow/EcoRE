"Create a simple object"

| x |

x <- {
    x, y,
    z = {}
},

| y |

y <- {
    a, b, c,
    foo => bar;
    bar(x, y, z) => baz(x, y, self);
    baz(x, y, z) => x;
},

y bar({}, {}, {});

| z |
z <- {
    test_varargs(x, ...) => (
        'ecosphere.ecore.io.print'(x);
        'ecosphere.ecore.io.print'(x);
        'ecosphere.ecore.io.print'(...);
    ),
    test_varargs2(...) => test_varargs(...);
},

^ (
    | the_closure |
    the_closure <- [ x =>
        'ecosphere.ecore.io.print'(x),
        x <- 'ecosphere.ecore.math.add_integers'(x, 1),
        'ecosphere.ecore.flow.reset'()
    ],
    'ecosphere.ecore.flow.value'(the_closure, 1)
  )

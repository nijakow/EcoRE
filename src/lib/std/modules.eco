
#=std/modules: {
    static with inherited _ = #<:std/Module>;

    private modules;

    init => (
          modules <- std util newMap.
        ^ self
    );

    Module: name =>
        (modules at: name)
            yes: [ :mod | ^ mod ]
             no: [ "TODO: Load it!" 'Module not found!' throw ];

    Load: path As: name => (
        | mod <- io Import: path |
        modules at: name put: mod.
        mod init.
      ^ mod
    );
}
